import{q as A,j as i,c as z,o as n,w as S,b as t,t as l,k as u,n as C,f as a,F as p,m as x,y as E,i as b,z as v,g as f}from"./app-C6D-8OBC.js";import{_ as F}from"./AuthenticatedLayout-CslL0vUv.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-CNvV6xgO.js";const P={class:"py-6"},$={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},G={class:"bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl p-6 text-white shadow-lg"},H={class:"flex items-center justify-between"},J={class:"text-3xl font-bold"},K={class:"bg-gradient-to-br from-blue-500 to-cyan-500 rounded-2xl p-6 text-white shadow-lg"},O={class:"flex items-center justify-between"},Q={class:"text-3xl font-bold"},W={class:"bg-gradient-to-br from-orange-500 to-red-500 rounded-2xl p-6 text-white shadow-lg"},X={class:"flex items-center justify-between"},Y={class:"text-3xl font-bold"},Z={class:"bg-gradient-to-br from-yellow-500 to-orange-500 rounded-2xl p-6 text-white shadow-lg"},tt={class:"flex items-center justify-between"},et={class:"text-3xl font-bold"},st={class:"bg-white rounded-2xl shadow-lg p-6 mb-8"},ot={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},lt=["value"],rt={class:"bg-white rounded-2xl shadow-lg overflow-hidden"},nt={class:"overflow-x-auto"},at={class:"table table-zebra w-full"},it={class:"font-medium"},dt={class:"text-center"},ct={class:"text-center"},ut={class:"text-center"},pt={class:"text-center font-medium"},xt={class:"text-center"},ft={class:"text-center"},gt={key:1,class:"text-gray-400"},mt={key:0,class:"text-center py-12"},yt={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-8"},bt={class:"bg-white rounded-2xl shadow-lg p-6"},vt={class:"space-y-3"},_t={class:"font-medium text-gray-800"},kt={class:"text-sm text-gray-600"},wt={class:"text-right"},ht={class:"text-orange-600 font-bold"},St={class:"text-xs text-gray-500"},Ct={key:0,class:"text-center py-4 text-gray-500"},Et={class:"bg-white rounded-2xl shadow-lg p-6"},Lt={class:"space-y-3"},It={class:"font-medium text-gray-800"},Nt={class:"text-sm text-gray-600"},Dt={class:"text-right"},Vt={class:"text-yellow-600 font-bold"},jt={class:"text-xs text-gray-500"},Tt={key:0,class:"text-center py-4 text-gray-500"},Ut={__name:"StockReport",props:{items:{type:Array,required:!0}},setup(_){const d=_,r=A({stockStatus:"",company:"",minStockLevel:null,search:""}),L=i(()=>[...new Set(d.items.map(s=>s.company))].sort()),g=i(()=>{let s=d.items;if(r.value.search){const e=r.value.search.toLowerCase();s=s.filter(o=>o.name.toLowerCase().includes(e)||o.company.toLowerCase().includes(e))}if(r.value.company&&(s=s.filter(e=>e.company===r.value.company)),r.value.minStockLevel!==null&&(s=s.filter(e=>e.min_stock_level>=r.value.minStockLevel)),r.value.stockStatus)switch(r.value.stockStatus){case"low":s=s.filter(e=>e.is_low_stock);break;case"normal":s=s.filter(e=>!e.is_low_stock&&!e.is_expired);break;case"expired":s=s.filter(e=>e.is_expired);break;case"expiring":s=s.filter(e=>c(e.expiry_date));break}return s}),I=i(()=>g.value.reduce((s,e)=>s+e.total_value,0)),N=i(()=>d.items.filter(s=>s.is_low_stock).length),D=i(()=>d.items.filter(s=>c(s.expiry_date)).length),k=i(()=>d.items.filter(s=>s.is_low_stock).slice(0,5)),w=i(()=>d.items.filter(s=>c(s.expiry_date)).sort((s,e)=>new Date(s.expiry_date)-new Date(e.expiry_date)).slice(0,5)),V=(s,e)=>s<=e?"text-red-600 font-bold":s<=e*1.5?"text-orange-600 font-medium":"text-green-600",j=s=>s.is_expired?"badge badge-error":s.is_low_stock?"badge badge-warning":c(s.expiry_date)?"badge badge-info":"badge badge-success",T=s=>s.is_expired?"Expired":s.is_low_stock?"Low Stock":c(s.expiry_date)?"Expiring Soon":"In Stock",U=s=>{const e=m(s);return e<0?"text-red-600 font-bold":e<=30?"text-orange-600 font-medium":"text-gray-600"},c=s=>{if(!s)return!1;const e=m(s);return e>=0&&e<=30},m=s=>{if(!s)return null;const e=new Date,M=new Date(expiry_date)-e;return Math.ceil(M/(1e3*60*60*24))},y=s=>new Intl.NumberFormat("en-IN").format(s),h=s=>new Date(s).toLocaleDateString("en-IN"),R=()=>{console.log("Exporting stock report...")},B=()=>{window.print()};return(s,e)=>(n(),z(F,null,{header:S(()=>[t("div",{class:"flex items-center justify-between"},[e[6]||(e[6]=t("h2",{class:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent"}," Stock Report ",-1)),t("div",{class:"flex space-x-3"},[t("button",{onClick:R,class:"btn btn-primary bg-gradient-to-r from-purple-500 to-pink-500 text-white border-0"},[...e[4]||(e[4]=[t("i",{class:"fas fa-download mr-2"},null,-1),f("Export Report ",-1)])]),t("button",{onClick:B,class:"btn btn-secondary bg-gradient-to-r from-blue-500 to-cyan-500 text-white border-0"},[...e[5]||(e[5]=[t("i",{class:"fas fa-print mr-2"},null,-1),f("Print ",-1)])])])])]),default:S(()=>[t("div",P,[t("div",$,[t("div",G,[t("div",H,[t("div",null,[e[7]||(e[7]=t("p",{class:"text-purple-100 text-sm font-medium"},"Total Items",-1)),t("p",J,l(_.items.length),1)]),e[8]||(e[8]=t("div",{class:"text-4xl opacity-20"},[t("i",{class:"fas fa-boxes"})],-1))])]),t("div",K,[t("div",O,[t("div",null,[e[9]||(e[9]=t("p",{class:"text-blue-100 text-sm font-medium"},"Total Stock Value",-1)),t("p",Q,l(y(I.value)),1)]),e[10]||(e[10]=t("div",{class:"text-4xl opacity-20"},[t("i",{class:"fas fa-rupee-sign"})],-1))])]),t("div",W,[t("div",X,[t("div",null,[e[11]||(e[11]=t("p",{class:"text-orange-100 text-sm font-medium"},"Low Stock Items",-1)),t("p",Y,l(N.value),1)]),e[12]||(e[12]=t("div",{class:"text-4xl opacity-20"},[t("i",{class:"fas fa-exclamation-triangle"})],-1))])]),t("div",Z,[t("div",tt,[t("div",null,[e[13]||(e[13]=t("p",{class:"text-yellow-100 text-sm font-medium"},"Expiring Soon",-1)),t("p",et,l(D.value),1)]),e[14]||(e[14]=t("div",{class:"text-4xl opacity-20"},[t("i",{class:"fas fa-clock"})],-1))])])]),t("div",st,[t("div",ot,[t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Stock Status",-1)),u(t("select",{"onUpdate:modelValue":e[0]||(e[0]=o=>r.value.stockStatus=o),class:"select select-bordered w-full focus:ring-2 focus:ring-purple-500"},[...e[15]||(e[15]=[t("option",{value:""},"All Items",-1),t("option",{value:"low"},"Low Stock",-1),t("option",{value:"normal"},"Normal Stock",-1),t("option",{value:"expired"},"Expired",-1),t("option",{value:"expiring"},"Expiring Soon",-1)])],512),[[C,r.value.stockStatus]])]),t("div",null,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Company",-1)),u(t("select",{"onUpdate:modelValue":e[1]||(e[1]=o=>r.value.company=o),class:"select select-bordered w-full focus:ring-2 focus:ring-purple-500"},[e[17]||(e[17]=t("option",{value:""},"All Companies",-1)),(n(!0),a(p,null,x(L.value,o=>(n(),a("option",{key:o,value:o},l(o),9,lt))),128))],512),[[C,r.value.company]])]),t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Min Stock Level",-1)),u(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>r.value.minStockLevel=o),type:"number",placeholder:"Enter minimum stock",class:"input input-bordered w-full focus:ring-2 focus:ring-purple-500"},null,512),[[E,r.value.minStockLevel,void 0,{number:!0}]])]),t("div",null,[e[20]||(e[20]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Search",-1)),u(t("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>r.value.search=o),type:"text",placeholder:"Search items...",class:"input input-bordered w-full focus:ring-2 focus:ring-purple-500"},null,512),[[E,r.value.search]])])])]),t("div",rt,[t("div",nt,[t("table",at,[e[21]||(e[21]=t("thead",null,[t("tr",{class:"bg-gradient-to-r from-purple-600 to-pink-600 text-white"},[t("th",{class:"text-left"},"Item Name"),t("th",{class:"text-left"},"Company"),t("th",{class:"text-center"},"Current Stock"),t("th",{class:"text-center"},"Min Level"),t("th",{class:"text-center"},"Unit Cost"),t("th",{class:"text-center"},"Total Value"),t("th",{class:"text-center"},"Status"),t("th",{class:"text-center"},"Expiry Date")])],-1)),t("tbody",null,[(n(!0),a(p,null,x(g.value,o=>(n(),a("tr",{key:o.id,class:"hover:bg-gray-50"},[t("td",it,l(o.name),1),t("td",null,l(o.company),1),t("td",dt,[t("span",{class:v(V(o.current_stock,o.min_stock_level))},l(o.current_stock),3)]),t("td",ct,l(o.min_stock_level),1),t("td",ut,l(y(o.unit_cost)),1),t("td",pt,l(y(o.total_value)),1),t("td",xt,[t("span",{class:v(j(o))},l(T(o)),3)]),t("td",ft,[o.expiry_date?(n(),a("span",{key:0,class:v(U(o.expiry_date))},l(h(o.expiry_date)),3)):(n(),a("span",gt,"No Expiry"))])]))),128))])])]),g.value.length===0?(n(),a("div",mt,[...e[22]||(e[22]=[t("div",{class:"text-6xl text-gray-300 mb-4"},[t("i",{class:"fas fa-box-open"})],-1),t("h3",{class:"text-xl font-medium text-gray-600 mb-2"},"No items found",-1),t("p",{class:"text-gray-500"},"Try adjusting your filters to see more results.",-1)])])):b("",!0)]),t("div",yt,[t("div",bt,[e[23]||(e[23]=t("h3",{class:"text-lg font-semibold text-gray-800 mb-4 flex items-center"},[t("i",{class:"fas fa-exclamation-triangle text-orange-500 mr-2"}),f(" Low Stock Alerts ")],-1)),t("div",vt,[(n(!0),a(p,null,x(k.value,o=>(n(),a("div",{key:o.id,class:"flex items-center justify-between p-3 bg-orange-50 rounded-lg border border-orange-200"},[t("div",null,[t("p",_t,l(o.name),1),t("p",kt,l(o.company),1)]),t("div",wt,[t("p",ht,l(o.current_stock),1),t("p",St,"of "+l(o.min_stock_level),1)])]))),128)),k.value.length===0?(n(),a("div",Ct," No low stock alerts ")):b("",!0)])]),t("div",Et,[e[24]||(e[24]=t("h3",{class:"text-lg font-semibold text-gray-800 mb-4 flex items-center"},[t("i",{class:"fas fa-clock text-yellow-500 mr-2"}),f(" Expiring Soon (30 days) ")],-1)),t("div",Lt,[(n(!0),a(p,null,x(w.value,o=>(n(),a("div",{key:o.id,class:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg border border-yellow-200"},[t("div",null,[t("p",It,l(o.name),1),t("p",Nt,l(o.company),1)]),t("div",Dt,[t("p",Vt,l(h(o.expiry_date)),1),t("p",jt,l(m(o.expiry_date))+" days",1)])]))),128)),w.value.length===0?(n(),a("div",Tt," No items expiring soon ")):b("",!0)])])])])]),_:1}))}},zt=q(Ut,[["__scopeId","data-v-7c7b426e"]]);export{zt as default};
