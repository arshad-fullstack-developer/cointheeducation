import{u as N,j as k,f as l,o as n,a,d as s,h as B,w as c,b as t,l as h,e as F,k as g,F as y,m as _,t as m,n as b,i as A,y as S,g as U}from"./app-C6D-8OBC.js";import{_ as D}from"./AuthenticatedLayout-CslL0vUv.js";import{_ as i,a as w}from"./TextInput-RHY8rhF4.js";import{_ as u}from"./InputError-DJmPaeL-.js";import{P as $}from"./PrimaryButton-CYIWo6AD.js";import{_ as j}from"./SecondaryButton-BdcgeapM.js";import"./ApplicationLogo-CNvV6xgO.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 p-6"},M={class:"max-w-6xl mx-auto space-y-8"},P={class:"relative overflow-hidden rounded-3xl bg-gradient-to-r from-purple-600 via-pink-600 to-orange-500 p-8 text-white shadow-2xl"},R={class:"relative z-10 flex justify-between items-center"},G={class:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/20 p-8"},z={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},L={class:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-3xl p-6 border border-blue-100"},O={class:"space-y-4"},Q=["value"],H=["value"],J={class:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-3xl p-6 border border-green-100"},K={class:"space-y-4"},W=["value"],X=["value"],Y={class:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-3xl p-6 border border-purple-100"},Z={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},ee=["value"],te={class:"bg-gradient-to-r from-orange-50 to-amber-50 rounded-3xl p-6 border border-orange-100"},oe={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},re=["value"],se={key:0},ae={key:1},de={class:"bg-gradient-to-r from-emerald-50 to-green-50 rounded-3xl p-6 border border-emerald-100"},le={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},ne={class:"flex items-end"},ie={class:"text-sm text-gray-600"},ue={key:0},me={class:"bg-gradient-to-r from-pink-50 to-rose-50 rounded-3xl p-6 border border-pink-100"},ge={class:"flex justify-end space-x-4 pt-6 border-t-2 border-gray-200"},xe={__name:"Edit",props:{stationaryAward:Object,students:Array,schools:Array,stationaryItems:Array,godowns:Array,awardTypes:Array,statuses:Array},setup(p){const d=p,r=N({student_id:d.stationaryAward.student_id,school_id:d.stationaryAward.school_id,stationary_item_id:d.stationaryAward.stationary_item_id,godown_id:d.stationaryAward.godown_id,quantity:d.stationaryAward.quantity,unit_cost:d.stationaryAward.unit_cost,total_cost:d.stationaryAward.total_cost,award_type:d.stationaryAward.award_type,awarded_by:d.stationaryAward.awarded_by,award_date:d.stationaryAward.award_date,status:d.stationaryAward.status,notes:d.stationaryAward.notes||"",return_date:d.stationaryAward.return_date||"",return_notes:d.stationaryAward.return_notes||""}),v=k(()=>d.stationaryItems.find(f=>f.id==r.stationary_item_id)),V=k(()=>d.students.find(f=>f.id==r.student_id)),x=()=>{r.quantity&&r.unit_cost&&(r.total_cost=(parseFloat(r.quantity)*parseFloat(r.unit_cost)).toFixed(2))},q=()=>{v.value&&(r.unit_cost=v.value.unit_cost,x())},I=()=>{V.value&&(r.school_id=V.value.school_id)},C=()=>{r.put(route("stationary-awards.update",d.stationaryAward.id))};return(f,e)=>(n(),l(y,null,[a(s(B),{title:"Edit Stationary Award"}),a(D,null,{default:c(()=>[t("div",E,[t("div",M,[t("div",P,[e[16]||(e[16]=t("div",{class:"absolute inset-0 bg-black/10"},null,-1)),t("div",R,[e[15]||(e[15]=t("div",null,[t("h1",{class:"text-4xl font-bold mb-2"},"🏆 Edit Award"),t("p",{class:"text-purple-100 text-lg"},"Update stationary award details")],-1)),a(s(h),{href:f.route("stationary-awards.index")},{default:c(()=>[...e[14]||(e[14]=[t("button",{class:"inline-flex items-center px-6 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-white font-semibold hover:bg-white/30 transition-all duration-300"}," Back to Awards ",-1)])]),_:1},8,["href"])])]),t("div",G,[t("form",{onSubmit:F(C,["prevent"]),class:"space-y-6"},[t("div",z,[t("div",L,[e[19]||(e[19]=t("h3",{class:"text-xl font-bold text-gray-800 mb-4"},"Student Information",-1)),t("div",O,[t("div",null,[a(i,{for:"student_id",value:"Student"}),g(t("select",{id:"student_id","onUpdate:modelValue":e[0]||(e[0]=o=>s(r).student_id=o),onChange:I,class:"w-full border-gray-300 rounded-lg focus:border-blue-500 focus:ring-blue-500",required:""},[e[17]||(e[17]=t("option",{value:""},"Select Student",-1)),(n(!0),l(y,null,_(p.students,o=>(n(),l("option",{key:o.id,value:o.id},m(o.name)+" - "+m(o.cte_id)+" ("+m(o.school?.name)+") ",9,Q))),128))],544),[[b,s(r).student_id]]),a(u,{message:s(r).errors.student_id},null,8,["message"])]),t("div",null,[a(i,{for:"school_id",value:"School"}),g(t("select",{id:"school_id","onUpdate:modelValue":e[1]||(e[1]=o=>s(r).school_id=o),class:"w-full border-gray-300 rounded-lg focus:border-blue-500 focus:ring-blue-500",required:""},[e[18]||(e[18]=t("option",{value:""},"Select School",-1)),(n(!0),l(y,null,_(p.schools,o=>(n(),l("option",{key:o.id,value:o.id},m(o.name),9,H))),128))],512),[[b,s(r).school_id]]),a(u,{message:s(r).errors.school_id},null,8,["message"])])])]),t("div",J,[e[22]||(e[22]=t("h3",{class:"text-xl font-bold text-gray-800 mb-4"},"Item Information",-1)),t("div",K,[t("div",null,[a(i,{for:"stationary_item_id",value:"Stationary Item"}),g(t("select",{id:"stationary_item_id","onUpdate:modelValue":e[2]||(e[2]=o=>s(r).stationary_item_id=o),onChange:q,class:"w-full border-gray-300 rounded-lg focus:border-green-500 focus:ring-green-500",required:""},[e[20]||(e[20]=t("option",{value:""},"Select Item",-1)),(n(!0),l(y,null,_(p.stationaryItems,o=>(n(),l("option",{key:o.id,value:o.id},m(o.name)+" - "+m(o.company)+" (Stock: "+m(o.current_stock)+") ",9,W))),128))],544),[[b,s(r).stationary_item_id]]),a(u,{message:s(r).errors.stationary_item_id},null,8,["message"])]),t("div",null,[a(i,{for:"godown_id",value:"Godown"}),g(t("select",{id:"godown_id","onUpdate:modelValue":e[3]||(e[3]=o=>s(r).godown_id=o),class:"w-full border-gray-300 rounded-lg focus:border-green-500 focus:ring-green-500",required:""},[e[21]||(e[21]=t("option",{value:""},"Select Godown",-1)),(n(!0),l(y,null,_(p.godowns,o=>(n(),l("option",{key:o.id,value:o.id},m(o.name)+" - "+m(o.location),9,X))),128))],512),[[b,s(r).godown_id]]),a(u,{message:s(r).errors.godown_id},null,8,["message"])])])])]),t("div",Y,[e[24]||(e[24]=t("h3",{class:"text-xl font-bold text-gray-800 mb-4"},"Award Details",-1)),t("div",Z,[t("div",null,[a(i,{for:"award_type",value:"Award Type"}),g(t("select",{id:"award_type","onUpdate:modelValue":e[4]||(e[4]=o=>s(r).award_type=o),class:"w-full border-gray-300 rounded-lg focus:border-purple-500 focus:ring-purple-500",required:""},[e[23]||(e[23]=t("option",{value:""},"Select Type",-1)),(n(!0),l(y,null,_(p.awardTypes,o=>(n(),l("option",{key:o,value:o},m(o.replace("_"," ").replace(/\b\w/g,T=>T.toUpperCase())),9,ee))),128))],512),[[b,s(r).award_type]]),a(u,{message:s(r).errors.award_type},null,8,["message"])]),t("div",null,[a(i,{for:"awarded_by",value:"Awarded By"}),a(w,{id:"awarded_by",modelValue:s(r).awarded_by,"onUpdate:modelValue":e[5]||(e[5]=o=>s(r).awarded_by=o),type:"text",class:"w-full",placeholder:"Teacher/Volunteer name",required:""},null,8,["modelValue"]),a(u,{message:s(r).errors.awarded_by},null,8,["message"])]),t("div",null,[a(i,{for:"award_date",value:"Award Date"}),a(w,{id:"award_date",modelValue:s(r).award_date,"onUpdate:modelValue":e[6]||(e[6]=o=>s(r).award_date=o),type:"date",class:"w-full",required:""},null,8,["modelValue"]),a(u,{message:s(r).errors.award_date},null,8,["message"])]),t("div",null,[a(i,{for:"quantity",value:"Quantity"}),a(w,{id:"quantity",modelValue:s(r).quantity,"onUpdate:modelValue":e[7]||(e[7]=o=>s(r).quantity=o),type:"number",min:"1",class:"w-full",onInput:x,required:""},null,8,["modelValue"]),a(u,{message:s(r).errors.quantity},null,8,["message"])])])]),t("div",te,[e[26]||(e[26]=t("h3",{class:"text-xl font-bold text-gray-800 mb-4"},"Status & Return Information",-1)),t("div",oe,[t("div",null,[a(i,{for:"status",value:"Status"}),g(t("select",{id:"status","onUpdate:modelValue":e[8]||(e[8]=o=>s(r).status=o),class:"w-full border-gray-300 rounded-lg focus:border-orange-500 focus:ring-orange-500",required:""},[e[25]||(e[25]=t("option",{value:""},"Select Status",-1)),(n(!0),l(y,null,_(p.statuses,o=>(n(),l("option",{key:o,value:o},m(o.charAt(0).toUpperCase()+o.slice(1)),9,re))),128))],512),[[b,s(r).status]]),a(u,{message:s(r).errors.status},null,8,["message"])]),s(r).status==="returned"?(n(),l("div",se,[a(i,{for:"return_date",value:"Return Date"}),a(w,{id:"return_date",modelValue:s(r).return_date,"onUpdate:modelValue":e[9]||(e[9]=o=>s(r).return_date=o),type:"date",class:"w-full"},null,8,["modelValue"]),a(u,{message:s(r).errors.return_date},null,8,["message"])])):A("",!0),s(r).status==="returned"?(n(),l("div",ae,[a(i,{for:"return_notes",value:"Return Notes"}),g(t("textarea",{id:"return_notes","onUpdate:modelValue":e[10]||(e[10]=o=>s(r).return_notes=o),rows:"3",class:"w-full border-gray-300 rounded-lg focus:border-orange-500 focus:ring-orange-500",placeholder:"Notes about the return..."},null,512),[[S,s(r).return_notes]]),a(u,{message:s(r).errors.return_notes},null,8,["message"])])):A("",!0)])]),t("div",de,[e[27]||(e[27]=t("h3",{class:"text-xl font-bold text-gray-800 mb-4"},"Pricing Information",-1)),t("div",le,[t("div",null,[a(i,{for:"unit_cost",value:"Unit Cost"}),a(w,{id:"unit_cost",modelValue:s(r).unit_cost,"onUpdate:modelValue":e[11]||(e[11]=o=>s(r).unit_cost=o),type:"number",step:"0.01",min:"0",class:"w-full",onInput:x,required:""},null,8,["modelValue"]),a(u,{message:s(r).errors.unit_cost},null,8,["message"])]),t("div",null,[a(i,{for:"total_cost",value:"Total Cost"}),a(w,{id:"total_cost",modelValue:s(r).total_cost,"onUpdate:modelValue":e[12]||(e[12]=o=>s(r).total_cost=o),type:"number",step:"0.01",class:"w-full",readonly:""},null,8,["modelValue"]),a(u,{message:s(r).errors.total_cost},null,8,["message"])]),t("div",ne,[t("div",ie,[v.value?(n(),l("p",ue,"Available Stock: "+m(v.value.current_stock),1)):A("",!0)])])])]),t("div",me,[e[28]||(e[28]=t("h3",{class:"text-xl font-bold text-gray-800 mb-4"},"Additional Information",-1)),t("div",null,[a(i,{for:"notes",value:"Notes"}),g(t("textarea",{id:"notes","onUpdate:modelValue":e[13]||(e[13]=o=>s(r).notes=o),rows:"4",class:"w-full border-gray-300 rounded-lg focus:border-pink-500 focus:ring-pink-500",placeholder:"Any additional notes about this award..."},null,512),[[S,s(r).notes]]),a(u,{message:s(r).errors.notes},null,8,["message"])])]),t("div",ge,[a(s(h),{href:f.route("stationary-awards.index")},{default:c(()=>[a(j,{type:"button",class:"px-6 py-3 bg-gray-100 text-gray-700 rounded-xl font-semibold hover:bg-gray-200"},{default:c(()=>[...e[29]||(e[29]=[U(" Cancel ",-1)])]),_:1})]),_:1},8,["href"]),a($,{disabled:s(r).processing,class:"px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl font-semibold hover:from-purple-600 hover:to-pink-600 shadow-lg"},{default:c(()=>[U(m(s(r).processing?"Updating...":"Update Award"),1)]),_:1},8,["disabled"])])],32)])])])]),_:1})],64))}};export{xe as default};
