import{u as h,j as w,f as p,o as g,a,d as l,h as I,w as f,b as t,t as d,l as V,e as U,k as y,F as _,m as v,n as c,y as T,g as k}from"./app-C6D-8OBC.js";import{_ as C}from"./AuthenticatedLayout-CslL0vUv.js";import{_ as n,a as b}from"./TextInput-RHY8rhF4.js";import{_ as i}from"./InputError-DJmPaeL-.js";import{P as A}from"./PrimaryButton-CYIWo6AD.js";import{_ as F}from"./SecondaryButton-BdcgeapM.js";import"./ApplicationLogo-CNvV6xgO.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 p-6"},$={class:"max-w-6xl mx-auto space-y-8"},j={class:"relative overflow-hidden rounded-3xl bg-gradient-to-r from-purple-600 via-pink-600 to-orange-500 p-8 text-white shadow-2xl"},B={class:"relative z-10 flex justify-between items-center"},D={class:"text-purple-100 text-lg"},E={class:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/20 p-8"},N={class:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-3xl p-6 border border-purple-100"},M={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},z=["value"],L={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},O={class:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-3xl p-6 border border-blue-100"},Q=["value"],G={class:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-3xl p-6 border border-green-100"},H=["value"],J={class:"bg-gradient-to-r from-orange-50 to-amber-50 rounded-3xl p-6 border border-orange-100"},K={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},R={class:"bg-gradient-to-r from-pink-50 to-rose-50 rounded-3xl p-6 border border-pink-100"},W={class:"flex justify-end space-x-4 pt-6 border-t-2 border-gray-200"},ae={__name:"Edit",props:{sale:Object,stationaryItems:Array,customers:Array},setup(u){const r=u,o=h({stationary_item_id:r.sale.stationary_item_id,customer_id:r.sale.customer_id,sale_date:r.sale.sale_date,unit_price:r.sale.unit_price,quantity:r.sale.quantity,total_amount:r.sale.total_amount,donation_amount:r.sale.donation_amount||0,payment_type:r.sale.payment_type,notes:r.sale.notes||""});w(()=>r.stationaryItems.find(m=>m.id==o.stationary_item_id)),w(()=>r.customers.find(m=>m.id==o.customer_id));const x=()=>{o.unit_price&&o.quantity&&(o.total_amount=(parseFloat(o.unit_price)*parseInt(o.quantity)).toFixed(2))},q=()=>{o.put(route("sales.update",r.sale.id))},S=[{value:"cash",label:"Cash"},{value:"credit",label:"Credit"}];return(m,e)=>(g(),p(_,null,[a(l(I),{title:"Edit Sale"}),a(C,null,{default:f(()=>[t("div",P,[t("div",$,[t("div",j,[e[11]||(e[11]=t("div",{class:"absolute inset-0 bg-black/10"},null,-1)),t("div",B,[t("div",null,[e[9]||(e[9]=t("h1",{class:"text-4xl font-bold mb-2"},"✏️ Edit Sale",-1)),t("p",D,"Transaction #"+d(u.sale.id),1)]),a(l(V),{href:m.route("sales.show",u.sale.id)},{default:f(()=>[...e[10]||(e[10]=[t("button",{class:"inline-flex items-center px-6 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-white font-semibold hover:bg-white/30 transition-all duration-300"}," View Sale ",-1)])]),_:1},8,["href"])])]),t("div",E,[t("form",{onSubmit:U(q,["prevent"]),class:"space-y-6"},[t("div",N,[e[13]||(e[13]=t("h3",{class:"text-xl font-bold text-gray-800 mb-4"},"Sale Information",-1)),t("div",M,[t("div",null,[a(n,{for:"sale_date",value:"Sale Date"}),a(b,{id:"sale_date",modelValue:l(o).sale_date,"onUpdate:modelValue":e[0]||(e[0]=s=>l(o).sale_date=s),type:"date",class:"w-full",required:""},null,8,["modelValue"]),a(i,{message:l(o).errors.sale_date},null,8,["message"])]),t("div",null,[a(n,{for:"payment_type",value:"Payment Type"}),y(t("select",{id:"payment_type","onUpdate:modelValue":e[1]||(e[1]=s=>l(o).payment_type=s),class:"w-full border-gray-300 rounded-lg focus:border-purple-500 focus:ring-purple-500",required:""},[e[12]||(e[12]=t("option",{value:""},"Select Type",-1)),(g(),p(_,null,v(S,s=>t("option",{key:s.value,value:s.value},d(s.label),9,z)),64))],512),[[c,l(o).payment_type]]),a(i,{message:l(o).errors.payment_type},null,8,["message"])]),t("div",null,[a(n,{for:"donation_amount",value:"Donation Amount"}),a(b,{id:"donation_amount",modelValue:l(o).donation_amount,"onUpdate:modelValue":e[2]||(e[2]=s=>l(o).donation_amount=s),type:"number",step:"0.01",min:"0",class:"w-full"},null,8,["modelValue"]),a(i,{message:l(o).errors.donation_amount},null,8,["message"])])])]),t("div",L,[t("div",O,[e[15]||(e[15]=t("h3",{class:"text-xl font-bold text-gray-800 mb-4"},"Item Selection",-1)),t("div",null,[a(n,{for:"stationary_item_id",value:"Stationary Item"}),y(t("select",{id:"stationary_item_id","onUpdate:modelValue":e[3]||(e[3]=s=>l(o).stationary_item_id=s),class:"w-full border-gray-300 rounded-lg focus:border-blue-500 focus:ring-blue-500",required:""},[e[14]||(e[14]=t("option",{value:""},"Select Item",-1)),(g(!0),p(_,null,v(u.stationaryItems,s=>(g(),p("option",{key:s.id,value:s.id},d(s.name)+" - ₹"+d(s.selling_price),9,Q))),128))],512),[[c,l(o).stationary_item_id]]),a(i,{message:l(o).errors.stationary_item_id},null,8,["message"])])]),t("div",G,[e[17]||(e[17]=t("h3",{class:"text-xl font-bold text-gray-800 mb-4"},"Customer Selection",-1)),t("div",null,[a(n,{for:"customer_id",value:"Customer"}),y(t("select",{id:"customer_id","onUpdate:modelValue":e[4]||(e[4]=s=>l(o).customer_id=s),class:"w-full border-gray-300 rounded-lg focus:border-green-500 focus:ring-green-500",required:""},[e[16]||(e[16]=t("option",{value:""},"Select Customer",-1)),(g(!0),p(_,null,v(u.customers,s=>(g(),p("option",{key:s.id,value:s.id},d(s.name)+" - "+d(s.customer_id),9,H))),128))],512),[[c,l(o).customer_id]]),a(i,{message:l(o).errors.customer_id},null,8,["message"])])])]),t("div",J,[e[18]||(e[18]=t("h3",{class:"text-xl font-bold text-gray-800 mb-4"},"Pricing Information",-1)),t("div",K,[t("div",null,[a(n,{for:"unit_price",value:"Unit Price"}),a(b,{id:"unit_price",modelValue:l(o).unit_price,"onUpdate:modelValue":e[5]||(e[5]=s=>l(o).unit_price=s),type:"number",step:"0.01",min:"0",class:"w-full",onInput:x,required:""},null,8,["modelValue"]),a(i,{message:l(o).errors.unit_price},null,8,["message"])]),t("div",null,[a(n,{for:"quantity",value:"Quantity"}),a(b,{id:"quantity",modelValue:l(o).quantity,"onUpdate:modelValue":e[6]||(e[6]=s=>l(o).quantity=s),type:"number",min:"1",class:"w-full",onInput:x,required:""},null,8,["modelValue"]),a(i,{message:l(o).errors.quantity},null,8,["message"])]),t("div",null,[a(n,{for:"total_amount",value:"Total Amount"}),a(b,{id:"total_amount",modelValue:l(o).total_amount,"onUpdate:modelValue":e[7]||(e[7]=s=>l(o).total_amount=s),type:"number",step:"0.01",class:"w-full",readonly:""},null,8,["modelValue"]),a(i,{message:l(o).errors.total_amount},null,8,["message"])])])]),t("div",R,[e[19]||(e[19]=t("h3",{class:"text-xl font-bold text-gray-800 mb-4"},"Additional Information",-1)),t("div",null,[a(n,{for:"notes",value:"Notes"}),y(t("textarea",{id:"notes","onUpdate:modelValue":e[8]||(e[8]=s=>l(o).notes=s),rows:"4",class:"w-full border-gray-300 rounded-lg focus:border-pink-500 focus:ring-pink-500"},null,512),[[T,l(o).notes]]),a(i,{message:l(o).errors.notes},null,8,["message"])])]),t("div",W,[a(l(V),{href:m.route("sales.show",u.sale.id)},{default:f(()=>[a(F,{type:"button",class:"px-6 py-3 bg-gray-100 text-gray-700 rounded-xl font-semibold hover:bg-gray-200"},{default:f(()=>[...e[20]||(e[20]=[k(" Cancel ",-1)])]),_:1})]),_:1},8,["href"]),a(A,{disabled:l(o).processing,class:"px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl font-semibold hover:from-purple-600 hover:to-pink-600 shadow-lg"},{default:f(()=>[k(d(l(o).processing?"Updating...":"Update Sale"),1)]),_:1},8,["disabled"])])],32)])])])]),_:1})],64))}};export{ae as default};
