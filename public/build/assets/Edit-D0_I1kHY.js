import{u as z,f as l,o as i,a as b,d as t,h as A,w as v,b as e,l as h,e as j,i as p,k as n,g as d,z as c,y as x,t as a,F as f,m as y,n as _,K as C,v as M}from"./app-C6D-8OBC.js";import{_ as B}from"./AuthenticatedLayout-CslL0vUv.js";import"./ApplicationLogo-CNvV6xgO.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const S={class:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 p-4"},E={class:"max-w-4xl mx-auto space-y-4"},P={class:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-purple-600 via-pink-600 to-orange-500 p-4 text-white shadow-2xl"},L={class:"relative z-10 flex justify-between items-center"},N={class:"flex items-center gap-4"},F={class:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 p-6"},T={key:0,class:"mt-1 text-sm text-red-600"},D={key:0,class:"mt-1 text-sm text-red-600"},H=["value"],O={key:0,class:"mt-1 text-sm text-red-600"},R={key:0,class:"mt-1 text-sm text-red-600"},I={class:"space-y-3 border-2 border-gray-200 rounded-xl p-4 bg-white/80 backdrop-blur-sm"},K={class:"flex items-start space-x-3 cursor-pointer"},$={class:"flex items-start space-x-3 cursor-pointer"},q={key:0},G={class:"space-y-3 max-h-60 overflow-y-auto border-2 border-gray-200 rounded-xl p-4 bg-white/80 backdrop-blur-sm"},J={class:"flex items-center justify-between mb-2"},Q={class:"font-medium text-gray-800 capitalize"},W={class:"flex items-center"},X=["value"],Y={class:"grid grid-cols-2 gap-2"},Z=["value"],ee={class:"ml-2 text-sm text-gray-600"},se={key:0,class:"mt-1 text-sm text-red-600"},re={class:"flex gap-4 pt-4"},te=["disabled"],oe={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},le={key:1,class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ue={__name:"Edit",props:{user:Object,roles:Array,permissions:Object},setup(g){const u=g,r=z({name:u.user.name,email:u.user.email,role_id:u.user.role_id,status:u.user.status||"active",password:"",password_confirmation:"",permission_type:u.user.custom_permissions&&u.user.custom_permissions.length>0?"custom":"role",custom_permissions:u.user.custom_permissions||[]}),U=()=>{r.permission_type==="role"&&(r.custom_permissions=[]),r.put(route("users.update",u.user.id))};return(k,s)=>(i(),l(f,null,[b(t(A),{title:"Edit User"}),b(B,null,{default:v(()=>[e("div",S,[e("div",E,[e("div",P,[s[12]||(s[12]=e("div",{class:"absolute inset-0 bg-black/10"},null,-1)),e("div",L,[e("div",N,[b(t(h),{href:k.route("users.index"),class:"text-white hover:text-purple-200 transition-colors"},{default:v(()=>[...s[10]||(s[10]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),_:1},8,["href"]),s[11]||(s[11]=e("div",null,[e("h1",{class:"text-3xl font-bold mb-1"},"✏️ Edit User"),e("p",{class:"text-purple-100 text-base"},"Update user information and role")],-1))])]),s[13]||(s[13]=e("div",{class:"absolute top-4 right-4 w-20 h-20 bg-white/10 rounded-full"},null,-1)),s[14]||(s[14]=e("div",{class:"absolute bottom-4 left-4 w-16 h-16 bg-white/10 rounded-full"},null,-1))]),e("div",F,[e("form",{onSubmit:j(U,["prevent"]),class:"space-y-6"},[e("div",null,[s[15]||(s[15]=e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},[e("svg",{class:"w-4 h-4 inline mr-2 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),d(" Full Name ")],-1)),n(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=o=>t(r).name=o),class:c(["w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:ring-4 focus:ring-purple-100 transition-all duration-300 bg-white/80 backdrop-blur-sm",{"border-red-500 focus:border-red-500 focus:ring-red-100":t(r).errors.name}]),placeholder:"Enter full name"},null,2),[[x,t(r).name]]),t(r).errors.name?(i(),l("p",T,a(t(r).errors.name),1)):p("",!0)]),e("div",null,[s[16]||(s[16]=e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},[e("svg",{class:"w-4 h-4 inline mr-2 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})]),d(" Email Address ")],-1)),n(e("input",{type:"email","onUpdate:modelValue":s[1]||(s[1]=o=>t(r).email=o),class:c(["w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:ring-4 focus:ring-purple-100 transition-all duration-300 bg-white/80 backdrop-blur-sm",{"border-red-500 focus:border-red-500 focus:ring-red-100":t(r).errors.email}]),placeholder:"Enter email address"},null,2),[[x,t(r).email]]),t(r).errors.email?(i(),l("p",D,a(t(r).errors.email),1)):p("",!0)]),e("div",null,[s[18]||(s[18]=e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},[e("svg",{class:"w-4 h-4 inline mr-2 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})]),d(" Role ")],-1)),n(e("select",{"onUpdate:modelValue":s[2]||(s[2]=o=>t(r).role_id=o),class:c(["w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:ring-4 focus:ring-purple-100 transition-all duration-300 bg-white/80 backdrop-blur-sm",{"border-red-500 focus:border-red-500 focus:ring-red-100":t(r).errors.role_id}])},[s[17]||(s[17]=e("option",{value:""},"Select a role",-1)),(i(!0),l(f,null,y(g.roles,o=>(i(),l("option",{key:o.id,value:o.id},a(o.display_name)+" - "+a(o.description),9,H))),128))],2),[[_,t(r).role_id]]),t(r).errors.role_id?(i(),l("p",O,a(t(r).errors.role_id),1)):p("",!0)]),e("div",null,[s[20]||(s[20]=e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},[e("svg",{class:"w-4 h-4 inline mr-2 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),d(" Status ")],-1)),n(e("select",{"onUpdate:modelValue":s[3]||(s[3]=o=>t(r).status=o),class:c(["w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:ring-4 focus:ring-purple-100 transition-all duration-300 bg-white/80 backdrop-blur-sm",{"border-red-500 focus:border-red-500 focus:ring-red-100":t(r).errors.status}])},[...s[19]||(s[19]=[e("option",{value:"active"},"Active",-1),e("option",{value:"inactive"},"Inactive",-1)])],2),[[_,t(r).status]]),t(r).errors.status?(i(),l("p",R,a(t(r).errors.status),1)):p("",!0)]),e("div",null,[s[23]||(s[23]=e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},[e("svg",{class:"w-4 h-4 inline mr-2 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})]),d(" Permission Assignment Type ")],-1)),e("div",I,[e("label",K,[n(e("input",{type:"radio","onUpdate:modelValue":s[4]||(s[4]=o=>t(r).permission_type=o),value:"role",class:"mt-1 rounded-full border-gray-300 text-purple-600 focus:ring-purple-500"},null,512),[[C,t(r).permission_type]]),s[21]||(s[21]=e("div",{class:"flex-1"},[e("div",{class:"flex items-center"},[e("span",{class:"font-medium text-gray-900"},"Use Role Permissions"),e("span",{class:"ml-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800"}," Default ")]),e("p",{class:"text-sm text-gray-600 mt-1"}," User will inherit all permissions from their assigned role. This is the standard approach. ")],-1))]),e("label",$,[n(e("input",{type:"radio","onUpdate:modelValue":s[5]||(s[5]=o=>t(r).permission_type=o),value:"custom",class:"mt-1 rounded-full border-gray-300 text-purple-600 focus:ring-purple-500"},null,512),[[C,t(r).permission_type]]),s[22]||(s[22]=e("div",{class:"flex-1"},[e("div",{class:"flex items-center"},[e("span",{class:"font-medium text-gray-900"},"Set Custom Permissions"),e("span",{class:"ml-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800"}," Advanced ")]),e("p",{class:"text-sm text-gray-600 mt-1"}," Manually select specific permissions for this user, overriding their role permissions. ")],-1))])])]),t(r).permission_type==="custom"?(i(),l("div",q,[s[25]||(s[25]=e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},[e("svg",{class:"w-4 h-4 inline mr-2 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})]),d(" Custom Module Access Permissions ")],-1)),e("div",G,[(i(!0),l(f,null,y(g.permissions,(o,w)=>(i(),l("div",{key:w,class:"border-b border-gray-100 pb-3 last:border-b-0"},[e("div",J,[e("h4",Q,a(w.replace("-"," ")),1),e("label",W,[n(e("input",{type:"checkbox",value:w,"onUpdate:modelValue":s[6]||(s[6]=m=>t(r).custom_permissions=m),class:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"},null,8,X),[[M,t(r).custom_permissions]]),s[24]||(s[24]=e("span",{class:"ml-2 text-sm text-gray-600"},"Select All",-1))])]),e("div",Y,[(i(!0),l(f,null,y(o,m=>(i(),l("label",{key:m.id,class:"flex items-center"},[n(e("input",{type:"checkbox",value:m.name,"onUpdate:modelValue":s[7]||(s[7]=V=>t(r).custom_permissions=V),class:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"},null,8,Z),[[M,t(r).custom_permissions]]),e("span",ee,a(m.display_name),1)]))),128))])]))),128))]),s[26]||(s[26]=e("p",{class:"mt-2 text-sm text-gray-500"},"Select which modules and permissions this user can access",-1))])):p("",!0),e("div",null,[s[27]||(s[27]=e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},[e("svg",{class:"w-4 h-4 inline mr-2 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})]),d(" New Password (Optional) ")],-1)),n(e("input",{type:"password","onUpdate:modelValue":s[8]||(s[8]=o=>t(r).password=o),class:c(["w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:ring-4 focus:ring-purple-100 transition-all duration-300 bg-white/80 backdrop-blur-sm",{"border-red-500 focus:border-red-500 focus:ring-red-100":t(r).errors.password}]),placeholder:"Leave blank to keep current password"},null,2),[[x,t(r).password]]),t(r).errors.password?(i(),l("p",se,a(t(r).errors.password),1)):p("",!0)]),e("div",null,[s[28]||(s[28]=e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},[e("svg",{class:"w-4 h-4 inline mr-2 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})]),d(" Confirm New Password ")],-1)),n(e("input",{type:"password","onUpdate:modelValue":s[9]||(s[9]=o=>t(r).password_confirmation=o),class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:ring-4 focus:ring-purple-100 transition-all duration-300 bg-white/80 backdrop-blur-sm",placeholder:"Confirm new password"},null,512),[[x,t(r).password_confirmation]])]),e("div",re,[e("button",{type:"submit",class:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-semibold rounded-xl hover:from-purple-700 hover:to-indigo-700 transition-all duration-300 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",disabled:t(r).processing},[t(r).processing?(i(),l("svg",oe,[...s[29]||(s[29]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(i(),l("svg",le,[...s[30]||(s[30]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])),d(" "+a(t(r).processing?"Updating...":"Update User"),1)],8,te),b(t(h),{href:k.route("users.index"),class:"inline-flex items-center px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-xl hover:bg-gray-200 transition-all duration-300"},{default:v(()=>[...s[31]||(s[31]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),d(" Cancel ",-1)])]),_:1},8,["href"])])],32)])])])]),_:1})],64))}};export{ue as default};
