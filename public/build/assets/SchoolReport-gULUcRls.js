import{q as S,j as c,A as D,c as k,o as a,w as p,b as t,f as n,i as j,t as l,e as O,k as v,n as A,F as u,m as f,y as H,g as m,z as x,a as y,d as g,l as b}from"./app-C6D-8OBC.js";import{_ as I}from"./AuthenticatedLayout-CslL0vUv.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-CNvV6xgO.js";const q={class:"py-6"},G={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},J={class:"bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl p-6 text-white shadow-lg"},K={class:"flex items-center justify-between"},Q={class:"text-3xl font-bold"},W={class:"bg-gradient-to-br from-green-500 to-emerald-500 rounded-2xl p-6 text-white shadow-lg"},X={class:"flex items-center justify-between"},Y={class:"text-3xl font-bold"},Z={class:"bg-gradient-to-br from-blue-500 to-cyan-500 rounded-2xl p-6 text-white shadow-lg"},tt={class:"flex items-center justify-between"},st={class:"text-3xl font-bold"},et={class:"bg-gradient-to-br from-orange-500 to-red-500 rounded-2xl p-6 text-white shadow-lg"},ot={class:"flex items-center justify-between"},lt={class:"text-3xl font-bold"},at={class:"bg-white rounded-2xl shadow-lg p-6 mb-8"},nt=["value"],rt={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},dt={class:"bg-white rounded-2xl shadow-lg p-6"},it={class:"space-y-4"},ct={class:"flex items-center"},ut={class:"font-medium capitalize"},ft={class:"text-right"},mt={class:"font-bold text-gray-800"},pt={class:"text-sm text-gray-500"},gt={class:"bg-white rounded-2xl shadow-lg p-6"},bt={class:"space-y-3"},xt={class:"font-medium text-gray-800"},yt={class:"text-sm text-gray-600"},ht={class:"text-right"},_t={class:"font-bold text-gray-800"},vt={class:"bg-white rounded-2xl shadow-lg overflow-hidden"},wt={class:"overflow-x-auto"},St={class:"table table-zebra w-full"},kt={class:"font-medium"},jt={class:"text-center font-medium"},At={class:"text-center font-medium"},Tt={class:"text-center font-medium"},Ct={class:"text-sm"},Vt={class:"text-gray-600"},Lt={class:"text-center"},Nt={class:"text-center"},Bt={class:"flex space-x-2 justify-center"},Ft={key:0,class:"text-center py-12"},Pt={key:0,class:"mt-6 flex justify-center"},Rt={class:"join"},Et={class:"mt-8"},Mt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},zt={class:"flex items-center justify-between mb-4"},Ut={class:"text-lg font-semibold text-gray-800"},Dt={class:"badge badge-primary"},Ot={class:"space-y-2"},Ht={class:"flex justify-between text-sm"},It={class:"font-medium"},$t={class:"flex justify-between text-sm"},qt={class:"font-medium"},Gt={class:"flex justify-between text-sm"},Jt={class:"font-medium"},Kt={class:"flex justify-between text-sm"},Qt={class:"font-medium capitalize"},Wt={class:"mt-8"},Xt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},Yt={class:"text-center"},Zt={class:"text-lg font-semibold text-gray-800 mb-2"},ts={class:"space-y-2"},ss={class:"flex justify-between text-sm"},es={class:"font-medium"},os={class:"flex justify-between text-sm"},ls={class:"font-medium"},as={class:"flex justify-between text-sm"},ns={class:"font-medium"},rs={__name:"SchoolReport",props:{schools:{type:Object,required:!0},filters:{type:Object,default:()=>({})}},setup(d){const r=d,i=S({school_type:r.filters.school_type||"",location:r.filters.location||"",search:r.filters.search||""}),w=S([]),T=c(()=>r.schools.data.reduce((o,s)=>o+(s.student_count||0),0)),C=c(()=>r.schools.data.reduce((o,s)=>o+(s.award_count||0),0)),V=c(()=>r.schools.data.reduce((o,s)=>o+(s.award_value||0),0)),L=c(()=>{const o={};return r.schools.data.forEach(s=>{const e=s.school_type||"unknown";o[e]=(o[e]||0)+1}),o}),N=c(()=>r.schools.data.sort((o,s)=>(s.student_count||0)-(o.student_count||0)).slice(0,5)),B=c(()=>r.schools.data.sort((o,s)=>(s.award_count||0)-(o.award_count||0)).slice(0,6)),F=c(()=>{const o={};return r.schools.data.forEach(s=>{const e=s.location||"Unknown Location";o[e]||(o[e]={name:e,school_count:0,student_count:0,award_count:0}),o[e].school_count++,o[e].student_count+=s.student_count||0,o[e].award_count+=s.award_count||0}),Object.values(o).sort((s,e)=>e.school_count-s.school_count)}),P=o=>{switch(o){case"primary":return"bg-blue-500";case"secondary":return"bg-green-500";case"higher_secondary":return"bg-purple-500";case"college":return"bg-orange-500";default:return"bg-gray-500"}},R=o=>{switch(o){case"primary":return"badge badge-info";case"secondary":return"badge badge-success";case"higher_secondary":return"badge badge-primary";case"college":return"badge badge-warning";default:return"badge badge-neutral"}},E=o=>{switch(o){case"active":return"badge badge-success";case"inactive":return"badge badge-error";default:return"badge badge-success"}},h=o=>new Intl.NumberFormat("en-IN").format(o||0),M=()=>{const o=new URLSearchParams;Object.entries(i.value).forEach(([s,e])=>{e&&o.append(s,e)}),window.location.href=`${window.location.pathname}?${o.toString()}`},z=()=>{console.log("Exporting school report...")},U=()=>{window.print()};return D(()=>{w.value=[...new Set(r.schools.data.map(o=>o.location).filter(Boolean))]}),(o,s)=>(a(),k(I,null,{header:p(()=>[t("div",{class:"flex items-center justify-between"},[s[5]||(s[5]=t("h2",{class:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent"}," School Report ",-1)),t("div",{class:"flex space-x-3"},[t("button",{onClick:z,class:"btn btn-primary bg-gradient-to-r from-purple-500 to-pink-500 text-white border-0"},[...s[3]||(s[3]=[t("i",{class:"fas fa-download mr-2"},null,-1),m("Export Report ",-1)])]),t("button",{onClick:U,class:"btn btn-secondary bg-gradient-to-r from-blue-500 to-cyan-500 text-white border-0"},[...s[4]||(s[4]=[t("i",{class:"fas fa-print mr-2"},null,-1),m("Print ",-1)])])])])]),default:p(()=>[t("div",q,[t("div",G,[t("div",J,[t("div",K,[t("div",null,[s[6]||(s[6]=t("p",{class:"text-purple-100 text-sm font-medium"},"Total Schools",-1)),t("p",Q,l(d.schools.data.length),1)]),s[7]||(s[7]=t("div",{class:"text-4xl opacity-20"},[t("i",{class:"fas fa-school"})],-1))])]),t("div",W,[t("div",X,[t("div",null,[s[8]||(s[8]=t("p",{class:"text-green-100 text-sm font-medium"},"Total Students",-1)),t("p",Y,l(T.value),1)]),s[9]||(s[9]=t("div",{class:"text-4xl opacity-20"},[t("i",{class:"fas fa-user-graduate"})],-1))])]),t("div",Z,[t("div",tt,[t("div",null,[s[10]||(s[10]=t("p",{class:"text-blue-100 text-sm font-medium"},"Total Awards",-1)),t("p",st,l(C.value),1)]),s[11]||(s[11]=t("div",{class:"text-4xl opacity-20"},[t("i",{class:"fas fa-trophy"})],-1))])]),t("div",et,[t("div",ot,[t("div",null,[s[12]||(s[12]=t("p",{class:"text-orange-100 text-sm font-medium"},"Award Value",-1)),t("p",lt,l(h(V.value)),1)]),s[13]||(s[13]=t("div",{class:"text-4xl opacity-20"},[t("i",{class:"fas fa-rupee-sign"})],-1))])])]),t("div",at,[t("form",{onSubmit:O(M,["prevent"]),class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},[t("div",null,[s[15]||(s[15]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"School Type",-1)),v(t("select",{"onUpdate:modelValue":s[0]||(s[0]=e=>i.value.school_type=e),class:"select select-bordered w-full focus:ring-2 focus:ring-purple-500"},[...s[14]||(s[14]=[t("option",{value:""},"All Types",-1),t("option",{value:"primary"},"Primary",-1),t("option",{value:"secondary"},"Secondary",-1),t("option",{value:"higher_secondary"},"Higher Secondary",-1),t("option",{value:"college"},"College",-1)])],512),[[A,i.value.school_type]])]),t("div",null,[s[17]||(s[17]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Location",-1)),v(t("select",{"onUpdate:modelValue":s[1]||(s[1]=e=>i.value.location=e),class:"select select-bordered w-full focus:ring-2 focus:ring-purple-500"},[s[16]||(s[16]=t("option",{value:""},"All Locations",-1)),(a(!0),n(u,null,f(w.value,e=>(a(),n("option",{key:e,value:e},l(e),9,nt))),128))],512),[[A,i.value.location]])]),t("div",null,[s[18]||(s[18]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Search",-1)),v(t("input",{"onUpdate:modelValue":s[2]||(s[2]=e=>i.value.search=e),type:"text",placeholder:"Search schools...",class:"input input-bordered w-full focus:ring-2 focus:ring-purple-500"},null,512),[[H,i.value.search]])]),s[19]||(s[19]=t("div",{class:"flex items-end"},[t("button",{type:"submit",class:"btn btn-primary bg-gradient-to-r from-purple-500 to-pink-500 text-white border-0 w-full"},[t("i",{class:"fas fa-search mr-2"}),m("Apply Filters ")])],-1))],32)]),t("div",rt,[t("div",dt,[s[20]||(s[20]=t("h3",{class:"text-lg font-semibold text-gray-800 mb-4 flex items-center"},[t("i",{class:"fas fa-chart-pie text-purple-500 mr-2"}),m(" School Type Distribution ")],-1)),t("div",it,[(a(!0),n(u,null,f(L.value,(e,_)=>(a(),n("div",{key:_,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[t("div",ct,[t("div",{class:x([P(_),"w-4 h-4 rounded-full mr-3"])},null,2),t("span",ut,l(_.replace("_"," ")),1)]),t("div",ft,[t("p",mt,l(e),1),t("p",pt,l((e/d.schools.data.length*100).toFixed(1))+"%",1)])]))),128))])]),t("div",gt,[s[22]||(s[22]=t("h3",{class:"text-lg font-semibold text-gray-800 mb-4 flex items-center"},[t("i",{class:"fas fa-star text-yellow-500 mr-2"}),m(" Top Performing Schools ")],-1)),t("div",bt,[(a(!0),n(u,null,f(N.value,e=>(a(),n("div",{key:e.id,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[t("div",null,[t("p",xt,l(e.name),1),t("p",yt,l(e.location),1)]),t("div",ht,[t("p",_t,l(e.student_count),1),s[21]||(s[21]=t("p",{class:"text-sm text-gray-500"},"students",-1))])]))),128))])])]),t("div",vt,[t("div",wt,[t("table",St,[s[27]||(s[27]=t("thead",null,[t("tr",{class:"bg-gradient-to-r from-purple-600 to-pink-600 text-white"},[t("th",{class:"text-left"},"School Name"),t("th",{class:"text-left"},"Type"),t("th",{class:"text-left"},"Location"),t("th",{class:"text-center"},"Student Count"),t("th",{class:"text-center"},"Award Count"),t("th",{class:"text-center"},"Award Value"),t("th",{class:"text-center"},"Contact"),t("th",{class:"text-center"},"Status"),t("th",{class:"text-center"},"Actions")])],-1)),t("tbody",null,[(a(!0),n(u,null,f(d.schools.data,e=>(a(),n("tr",{key:e.id,class:"hover:bg-gray-50"},[t("td",kt,l(e.name),1),t("td",null,[t("span",{class:x(R(e.school_type))},l(e.school_type),3)]),t("td",null,l(e.location),1),t("td",jt,l(e.student_count||0),1),t("td",At,l(e.award_count||0),1),t("td",Tt,l(h(e.award_value||0)),1),t("td",null,[t("div",Ct,[t("p",null,l(e.contact_person),1),t("p",Vt,l(e.contact_number),1)])]),t("td",Lt,[t("span",{class:x(E(e.status))},l(e.status||"Active"),3)]),t("td",Nt,[t("div",Bt,[y(g(b),{href:o.route("schools.show",e.id),class:"btn btn-sm btn-outline btn-primary"},{default:p(()=>[...s[23]||(s[23]=[t("i",{class:"fas fa-eye"},null,-1)])]),_:2},1032,["href"]),y(g(b),{href:o.route("schools.edit",e.id),class:"btn btn-sm btn-outline btn-secondary"},{default:p(()=>[...s[24]||(s[24]=[t("i",{class:"fas fa-edit"},null,-1)])]),_:2},1032,["href"]),y(g(b),{href:o.route("schools.students",e.id),class:"btn btn-sm btn-outline btn-success"},{default:p(()=>[...s[25]||(s[25]=[t("i",{class:"fas fa-user-graduate"},null,-1)])]),_:2},1032,["href"]),y(g(b),{href:o.route("schools.awards",e.id),class:"btn btn-sm btn-outline btn-warning"},{default:p(()=>[...s[26]||(s[26]=[t("i",{class:"fas fa-trophy"},null,-1)])]),_:2},1032,["href"])])])]))),128))])])]),d.schools.data.length===0?(a(),n("div",Ft,[...s[28]||(s[28]=[t("div",{class:"text-6xl text-gray-300 mb-4"},[t("i",{class:"fas fa-school"})],-1),t("h3",{class:"text-xl font-medium text-gray-600 mb-2"},"No schools found",-1),t("p",{class:"text-gray-500"},"Try adjusting your filters to see more results.",-1)])])):j("",!0)]),d.schools.data.length>0?(a(),n("div",Pt,[t("div",Rt,[(a(!0),n(u,null,f(d.schools.links,e=>(a(),k(g(b),{key:e.label,href:e.url,class:x(["join-item btn",e.active?"btn-active bg-gradient-to-r from-purple-500 to-pink-500 text-white":"btn-outline"]),innerHTML:e.label},null,8,["href","class","innerHTML"]))),128))])])):j("",!0),t("div",Et,[s[33]||(s[33]=t("h3",{class:"text-xl font-semibold text-gray-800 mb-4 flex items-center"},[t("i",{class:"fas fa-chart-line text-purple-500 mr-2"}),m(" School Performance Summary ")],-1)),t("div",Mt,[(a(!0),n(u,null,f(B.value,e=>(a(),n("div",{key:e.id,class:"bg-white rounded-2xl shadow-lg p-6 border-l-4 border-purple-500"},[t("div",zt,[t("h4",Ut,l(e.name),1),t("span",Dt,l(e.student_count),1)]),t("div",Ot,[t("div",Ht,[s[29]||(s[29]=t("span",{class:"text-gray-600"},"Total Awards:",-1)),t("span",It,l(e.award_count),1)]),t("div",$t,[s[30]||(s[30]=t("span",{class:"text-gray-600"},"Award Value:",-1)),t("span",qt,l(h(e.award_value)),1)]),t("div",Gt,[s[31]||(s[31]=t("span",{class:"text-gray-600"},"Avg. Awards/Student:",-1)),t("span",Jt,l((e.award_count/e.student_count).toFixed(1)),1)]),t("div",Kt,[s[32]||(s[32]=t("span",{class:"text-gray-600"},"Type:",-1)),t("span",Qt,l(e.school_type?.replace("_"," ")),1)])])]))),128))])]),t("div",Wt,[s[37]||(s[37]=t("h3",{class:"text-xl font-semibold text-gray-800 mb-4 flex items-center"},[t("i",{class:"fas fa-map-marker-alt text-red-500 mr-2"}),m(" Location Analysis ")],-1)),t("div",Xt,[(a(!0),n(u,null,f(F.value,e=>(a(),n("div",{key:e.name,class:"bg-white rounded-2xl shadow-lg p-6 border-l-4 border-red-500"},[t("div",Yt,[t("h4",Zt,l(e.name),1),t("div",ts,[t("div",ss,[s[34]||(s[34]=t("span",{class:"text-gray-600"},"Schools:",-1)),t("span",es,l(e.school_count),1)]),t("div",os,[s[35]||(s[35]=t("span",{class:"text-gray-600"},"Students:",-1)),t("span",ls,l(e.student_count),1)]),t("div",as,[s[36]||(s[36]=t("span",{class:"text-gray-600"},"Awards:",-1)),t("span",ns,l(e.award_count),1)])])])]))),128))])])])]),_:1}))}},fs=$(rs,[["__scopeId","data-v-af28b7a9"]]);export{fs as default};
