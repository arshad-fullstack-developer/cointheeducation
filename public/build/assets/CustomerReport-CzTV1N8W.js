import{q as z,j as c,c as _,o as a,w as m,b as t,f as r,i as k,t as o,e as L,k as x,y as C,n as j,g,F as p,m as f,z as b,H as I,a as w,d as h,l as v}from"./app-C6D-8OBC.js";import{_ as O}from"./AuthenticatedLayout-CslL0vUv.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-CNvV6xgO.js";const $={class:"py-6"},q={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},J={class:"bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl p-6 text-white shadow-lg"},K={class:"flex items-center justify-between"},Q={class:"text-3xl font-bold"},W={class:"bg-gradient-to-br from-green-500 to-emerald-500 rounded-2xl p-6 text-white shadow-lg"},X={class:"flex items-center justify-between"},Y={class:"text-3xl font-bold"},Z={class:"bg-gradient-to-br from-blue-500 to-cyan-500 rounded-2xl p-6 text-white shadow-lg"},tt={class:"flex items-center justify-between"},et={class:"text-3xl font-bold"},st={class:"bg-gradient-to-br from-orange-500 to-red-500 rounded-2xl p-6 text-white shadow-lg"},lt={class:"flex items-center justify-between"},ot={class:"text-3xl font-bold"},at={class:"bg-white rounded-2xl shadow-lg p-6 mb-8"},rt={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},nt={class:"bg-white rounded-2xl shadow-lg p-6"},it={class:"space-y-4"},dt={class:"flex items-center"},ut={class:"font-medium capitalize"},ct={class:"text-right"},gt={class:"font-bold text-gray-800"},mt={class:"text-sm text-gray-500"},pt={class:"bg-white rounded-2xl shadow-lg p-6"},ft={class:"space-y-3"},bt={class:"font-medium text-gray-800"},xt={class:"text-sm text-gray-600"},ht={class:"text-right"},vt={class:"w-20 bg-gray-200 rounded-full h-2"},yt={class:"text-xs text-gray-500 mt-1"},wt={class:"bg-white rounded-2xl shadow-lg p-6 mb-8"},_t={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},kt={class:"flex items-center justify-between mb-3"},Ct={class:"font-semibold text-gray-800"},jt={class:"badge badge-primary"},At={class:"space-y-1 text-sm"},St={class:"text-gray-600"},Dt={class:"text-gray-600"},Nt={class:"text-purple-600 font-medium"},Tt={class:"bg-white rounded-2xl shadow-lg overflow-hidden"},Rt={class:"overflow-x-auto"},Vt={class:"table table-zebra w-full"},Ft={class:"font-medium"},Mt={class:"text-center"},Et={class:"text-center"},Pt={class:"text-center"},Bt={class:"text-center font-medium"},Gt={class:"text-center font-medium"},Ut={class:"text-center"},zt={class:"text-center"},Lt={class:"flex space-x-2 justify-center"},It={key:0,class:"text-center py-12"},Ot={key:0,class:"mt-6 flex justify-center"},Ht={class:"join"},$t={__name:"CustomerReport",props:{customers:{type:Object,required:!0},filters:{type:Object,default:()=>({})}},setup(i){const n=i,d=z({membership_date:n.filters.membership_date||"",age_range:n.filters.age_range||"",gender:n.filters.gender||"",search:n.filters.search||""}),A=c(()=>n.customers.data.filter(l=>l.status!=="inactive").length),S=c(()=>n.customers.data.reduce((l,e)=>l+(e.purchase_count||0),0)),D=c(()=>n.customers.data.reduce((l,e)=>l+(e.total_spent||0),0)),N=c(()=>{const l={};return n.customers.data.forEach(e=>{const s=e.gender||"unknown";l[s]=(l[s]||0)+1}),l}),T=c(()=>{const l={"18-25":0,"26-35":0,"36-45":0,"46-55":0,"55+":0};return n.customers.data.forEach(e=>{const s=e.age;s&&(s>=18&&s<=25?l["18-25"]++:s>=26&&s<=35?l["26-35"]++:s>=36&&s<=45?l["36-45"]++:s>=46&&s<=55?l["46-55"]++:s>55&&l["55+"]++)}),l}),R=c(()=>n.customers.data.sort((l,e)=>(e.total_spent||0)-(l.total_spent||0)).slice(0,6)),V=l=>{switch(l){case"male":return"bg-blue-500";case"female":return"bg-pink-500";case"other":return"bg-purple-500";default:return"bg-gray-500"}},F=l=>{switch(l){case"18-25":return"bg-blue-500";case"26-35":return"bg-green-500";case"36-45":return"bg-yellow-500";case"46-55":return"bg-orange-500";case"55+":return"bg-red-500";default:return"bg-gray-500"}},M=l=>{switch(l){case"male":return"badge badge-info";case"female":return"badge badge-primary";case"other":return"badge badge-secondary";default:return"badge badge-neutral"}},E=l=>{switch(l){case"active":return"badge badge-success";case"inactive":return"badge badge-error";default:return"badge badge-success"}},y=l=>new Intl.NumberFormat("en-IN").format(l||0),P=l=>new Date(l).toLocaleDateString("en-IN"),B=()=>{const l=new URLSearchParams;Object.entries(d.value).forEach(([e,s])=>{s&&l.append(e,s)}),window.location.href=`${window.location.pathname}?${l.toString()}`},G=()=>{console.log("Exporting customer report...")},U=()=>{window.print()};return(l,e)=>(a(),_(O,null,{header:m(()=>[t("div",{class:"flex items-center justify-between"},[e[6]||(e[6]=t("h2",{class:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent"}," Customer Report ",-1)),t("div",{class:"flex space-x-3"},[t("button",{onClick:G,class:"btn btn-primary bg-gradient-to-r from-purple-500 to-pink-500 text-white border-0"},[...e[4]||(e[4]=[t("i",{class:"fas fa-download mr-2"},null,-1),g("Export Report ",-1)])]),t("button",{onClick:U,class:"btn btn-secondary bg-gradient-to-r from-blue-500 to-cyan-500 text-white border-0"},[...e[5]||(e[5]=[t("i",{class:"fas fa-print mr-2"},null,-1),g("Print ",-1)])])])])]),default:m(()=>[t("div",$,[t("div",q,[t("div",J,[t("div",K,[t("div",null,[e[7]||(e[7]=t("p",{class:"text-purple-100 text-sm font-medium"},"Total Customers",-1)),t("p",Q,o(i.customers.data.length),1)]),e[8]||(e[8]=t("div",{class:"text-4xl opacity-20"},[t("i",{class:"fas fa-users"})],-1))])]),t("div",W,[t("div",X,[t("div",null,[e[9]||(e[9]=t("p",{class:"text-green-100 text-sm font-medium"},"Active Customers",-1)),t("p",Y,o(A.value),1)]),e[10]||(e[10]=t("div",{class:"text-4xl opacity-20"},[t("i",{class:"fas fa-user-check"})],-1))])]),t("div",Z,[t("div",tt,[t("div",null,[e[11]||(e[11]=t("p",{class:"text-blue-100 text-sm font-medium"},"Total Purchases",-1)),t("p",et,o(S.value),1)]),e[12]||(e[12]=t("div",{class:"text-4xl opacity-20"},[t("i",{class:"fas fa-shopping-bag"})],-1))])]),t("div",st,[t("div",lt,[t("div",null,[e[13]||(e[13]=t("p",{class:"text-orange-100 text-sm font-medium"},"Total Revenue",-1)),t("p",ot,o(y(D.value)),1)]),e[14]||(e[14]=t("div",{class:"text-4xl opacity-20"},[t("i",{class:"fas fa-rupee-sign"})],-1))])])]),t("div",at,[t("form",{onSubmit:L(B,["prevent"]),class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4"},[t("div",null,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Membership Date",-1)),x(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>d.value.membership_date=s),type:"date",class:"input input-bordered w-full focus:ring-2 focus:ring-purple-500"},null,512),[[C,d.value.membership_date]])]),t("div",null,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Age Range",-1)),x(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>d.value.age_range=s),class:"select select-bordered w-full focus:ring-2 focus:ring-purple-500"},[...e[16]||(e[16]=[t("option",{value:""},"All Ages",-1),t("option",{value:"18-25"},"18-25",-1),t("option",{value:"26-35"},"26-35",-1),t("option",{value:"36-45"},"36-45",-1),t("option",{value:"46-55"},"46-55",-1),t("option",{value:"55+"},"55+",-1)])],512),[[j,d.value.age_range]])]),t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Gender",-1)),x(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>d.value.gender=s),class:"select select-bordered w-full focus:ring-2 focus:ring-purple-500"},[...e[18]||(e[18]=[t("option",{value:""},"All Genders",-1),t("option",{value:"male"},"Male",-1),t("option",{value:"female"},"Female",-1),t("option",{value:"other"},"Other",-1)])],512),[[j,d.value.gender]])]),t("div",null,[e[20]||(e[20]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Search",-1)),x(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>d.value.search=s),type:"text",placeholder:"Search customers...",class:"input input-bordered w-full focus:ring-2 focus:ring-purple-500"},null,512),[[C,d.value.search]])]),e[21]||(e[21]=t("div",{class:"flex items-end"},[t("button",{type:"submit",class:"btn btn-primary bg-gradient-to-r from-purple-500 to-pink-500 text-white border-0 w-full"},[t("i",{class:"fas fa-search mr-2"}),g("Apply Filters ")])],-1))],32)]),t("div",rt,[t("div",nt,[e[22]||(e[22]=t("h3",{class:"text-lg font-semibold text-gray-800 mb-4 flex items-center"},[t("i",{class:"fas fa-chart-pie text-purple-500 mr-2"}),g(" Gender Distribution ")],-1)),t("div",it,[(a(!0),r(p,null,f(N.value,(s,u)=>(a(),r("div",{key:u,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[t("div",dt,[t("div",{class:b([V(u),"w-4 h-4 rounded-full mr-3"])},null,2),t("span",ut,o(u||"Unknown"),1)]),t("div",ct,[t("p",gt,o(s),1),t("p",mt,o((s/i.customers.data.length*100).toFixed(1))+"%",1)])]))),128))])]),t("div",pt,[e[23]||(e[23]=t("h3",{class:"text-lg font-semibold text-gray-800 mb-4 flex items-center"},[t("i",{class:"fas fa-chart-bar text-blue-500 mr-2"}),g(" Age Distribution ")],-1)),t("div",ft,[(a(!0),r(p,null,f(T.value,(s,u)=>(a(),r("div",{key:u,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[t("div",null,[t("p",bt,o(u),1),t("p",xt,o(s)+" customers",1)]),t("div",ht,[t("div",vt,[t("div",{class:b([F(u),"h-2 rounded-full"]),style:I({width:s/i.customers.data.length*100+"%"})},null,6)]),t("p",yt,o((s/i.customers.data.length*100).toFixed(1))+"%",1)])]))),128))])])]),t("div",wt,[e[24]||(e[24]=t("h3",{class:"text-lg font-semibold text-gray-800 mb-4 flex items-center"},[t("i",{class:"fas fa-crown text-yellow-500 mr-2"}),g(" Top Customers by Purchase Value ")],-1)),t("div",_t,[(a(!0),r(p,null,f(R.value,s=>(a(),r("div",{key:s.id,class:"p-4 bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl border border-purple-200"},[t("div",kt,[t("h4",Ct,o(s.name),1),t("span",jt,o(y(s.total_spent)),1)]),t("div",At,[t("p",St,o(s.email),1),t("p",Dt,o(s.phone),1),t("p",Nt,o(s.purchase_count)+" purchases",1)])]))),128))])]),t("div",Tt,[t("div",Rt,[t("table",Vt,[e[28]||(e[28]=t("thead",null,[t("tr",{class:"bg-gradient-to-r from-purple-600 to-pink-600 text-white"},[t("th",{class:"text-left"},"Name"),t("th",{class:"text-left"},"Email"),t("th",{class:"text-left"},"Phone"),t("th",{class:"text-center"},"Age"),t("th",{class:"text-center"},"Gender"),t("th",{class:"text-center"},"Membership Date"),t("th",{class:"text-center"},"Total Purchases"),t("th",{class:"text-center"},"Total Spent"),t("th",{class:"text-center"},"Status"),t("th",{class:"text-center"},"Actions")])],-1)),t("tbody",null,[(a(!0),r(p,null,f(i.customers.data,s=>(a(),r("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",Ft,o(s.name),1),t("td",null,o(s.email),1),t("td",null,o(s.phone),1),t("td",Mt,o(s.age||"N/A"),1),t("td",Et,[t("span",{class:b(M(s.gender))},o(s.gender||"N/A"),3)]),t("td",Pt,o(P(s.membership_date)),1),t("td",Bt,o(s.purchase_count||0),1),t("td",Gt,o(y(s.total_spent||0)),1),t("td",Ut,[t("span",{class:b(E(s.status))},o(s.status||"Active"),3)]),t("td",zt,[t("div",Lt,[w(h(v),{href:l.route("customers.show",s.id),class:"btn btn-sm btn-outline btn-primary"},{default:m(()=>[...e[25]||(e[25]=[t("i",{class:"fas fa-eye"},null,-1)])]),_:2},1032,["href"]),w(h(v),{href:l.route("customers.edit",s.id),class:"btn btn-sm btn-outline btn-secondary"},{default:m(()=>[...e[26]||(e[26]=[t("i",{class:"fas fa-edit"},null,-1)])]),_:2},1032,["href"]),w(h(v),{href:l.route("customers.purchases",s.id),class:"btn btn-sm btn-outline btn-success"},{default:m(()=>[...e[27]||(e[27]=[t("i",{class:"fas fa-shopping-bag"},null,-1)])]),_:2},1032,["href"])])])]))),128))])])]),i.customers.data.length===0?(a(),r("div",It,[...e[29]||(e[29]=[t("div",{class:"text-6xl text-gray-300 mb-4"},[t("i",{class:"fas fa-users"})],-1),t("h3",{class:"text-xl font-medium text-gray-600 mb-2"},"No customers found",-1),t("p",{class:"text-gray-500"},"Try adjusting your filters to see more results.",-1)])])):k("",!0)]),i.customers.data.length>0?(a(),r("div",Ot,[t("div",Ht,[(a(!0),r(p,null,f(i.customers.links,s=>(a(),_(h(v),{key:s.label,href:s.url,class:b(["join-item btn",s.active?"btn-active bg-gradient-to-r from-purple-500 to-pink-500 text-white":"btn-outline"]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])])):k("",!0)])]),_:1}))}},Wt=H($t,[["__scopeId","data-v-0883c027"]]);export{Wt as default};
