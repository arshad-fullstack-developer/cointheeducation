import{u as M,j as S,f as d,o as i,a as n,d as o,h as V,w as p,b as t,l as w,g as h,e as q,i as x,k as a,F as y,m as k,t as l,n as f,y as g}from"./app-C6D-8OBC.js";import{_ as A}from"./AuthenticatedLayout-CslL0vUv.js";import{_ as u}from"./InputError-DJmPaeL-.js";import"./ApplicationLogo-CNvV6xgO.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 p-4"},U={class:"max-w-4xl mx-auto space-y-4"},I={class:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-purple-600 via-pink-600 to-orange-500 p-4 text-white shadow-2xl"},N={class:"relative z-10 flex justify-between items-center"},z={class:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 p-6"},F={class:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-100"},D={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},H={class:"space-y-2"},T=["value"],L={class:"space-y-2"},E=["value"],P={key:0,class:"mt-4 p-4 bg-white rounded-xl border border-blue-200"},Q={class:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center"},R={class:"text-2xl font-bold text-blue-600"},$={class:"text-2xl font-bold text-orange-600"},G={class:"text-2xl font-bold text-green-600"},Y={class:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl p-6 border border-green-100"},J={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},K={class:"space-y-2"},O={class:"space-y-2"},W={class:"space-y-2"},X={class:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-2xl p-6 border border-purple-100"},Z={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},tt={class:"space-y-2"},et={class:"space-y-2"},st={key:0,class:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-2xl p-6 border border-yellow-100"},ot={class:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center"},rt={class:"p-4 bg-white rounded-xl border border-yellow-200"},lt={class:"text-2xl font-bold text-yellow-600"},nt={class:"p-4 bg-white rounded-xl border border-yellow-200"},dt={class:"text-2xl font-bold text-yellow-600"},it={class:"p-4 bg-white rounded-xl border border-yellow-200"},at={class:"text-2xl font-bold text-yellow-600"},ut={class:"flex justify-end space-x-4 pt-6 border-t-2 border-gray-200"},mt=["disabled"],ct={class:"flex items-center"},bt={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},v=c=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(c),vt={__name:"Adjustment",props:{stationaryItems:Array,godowns:Array},setup(c){const _=c,s=M({stationary_item_id:"",godown_id:"",adjustment_type:"add",quantity:"",unit_cost:"",reason:"",adjusted_by:""}),m=S(()=>_.stationaryItems.find(b=>b.id==s.stationary_item_id)),j=()=>{s.post(route("stock-movements.adjustment.store"),{onSuccess:()=>{s.reset()}})},C=()=>{m.value&&(s.unit_cost=m.value.unit_cost)};return(b,e)=>(i(),d(y,null,[n(o(V),{title:"Stock Adjustment"}),n(A,null,{default:p(()=>[t("div",B,[t("div",U,[t("div",I,[e[9]||(e[9]=t("div",{class:"absolute inset-0 bg-black/10"},null,-1)),t("div",N,[e[8]||(e[8]=t("div",null,[t("h1",{class:"text-3xl font-bold mb-1"},"⚖️ Stock Adjustment"),t("p",{class:"text-purple-100 text-base"},"Add or subtract stock from inventory")],-1)),n(o(w),{href:b.route("stock-movements.index")},{default:p(()=>[...e[7]||(e[7]=[t("button",{class:"inline-flex items-center px-4 py-2 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-white font-semibold hover:bg-white/30 transition-all duration-300 shadow-lg hover:shadow-xl"},[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})]),h(" Back to Movements ")],-1)])]),_:1},8,["href"])])]),t("div",z,[t("form",{onSubmit:q(j,["prevent"]),class:"space-y-6"},[t("div",F,[e[17]||(e[17]=t("div",{class:"flex items-center mb-4"},[t("div",{class:"w-10 h-10 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-xl flex items-center justify-center mr-3"},[t("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])]),t("h3",{class:"text-xl font-bold text-gray-800"},"Item Selection")],-1)),t("div",D,[t("div",H,[e[11]||(e[11]=t("label",{class:"block text-sm font-bold text-gray-700"},"Select Item *",-1)),a(t("select",{"onUpdate:modelValue":e[0]||(e[0]=r=>o(s).stationary_item_id=r),onChange:C,class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-300 bg-white/80 backdrop-blur-sm",required:""},[e[10]||(e[10]=t("option",{value:""},"Choose an item...",-1)),(i(!0),d(y,null,k(c.stationaryItems,r=>(i(),d("option",{key:r.id,value:r.id},l(r.name)+" (Current Stock: "+l(r.current_stock)+") ",9,T))),128))],544),[[f,o(s).stationary_item_id]]),n(u,{message:o(s).errors.stationary_item_id,class:"mt-1"},null,8,["message"])]),t("div",L,[e[13]||(e[13]=t("label",{class:"block text-sm font-bold text-gray-700"},"Select Godown *",-1)),a(t("select",{"onUpdate:modelValue":e[1]||(e[1]=r=>o(s).godown_id=r),class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-300 bg-white/80 backdrop-blur-sm",required:""},[e[12]||(e[12]=t("option",{value:""},"Choose a godown...",-1)),(i(!0),d(y,null,k(c.godowns,r=>(i(),d("option",{key:r.id,value:r.id},l(r.name)+" - "+l(r.location),9,E))),128))],512),[[f,o(s).godown_id]]),n(u,{message:o(s).errors.godown_id,class:"mt-1"},null,8,["message"])])]),m.value?(i(),d("div",P,[t("div",Q,[t("div",null,[t("div",R,l(m.value.current_stock),1),e[14]||(e[14]=t("div",{class:"text-sm text-gray-600"},"Current Stock",-1))]),t("div",null,[t("div",$,l(m.value.min_stock_level),1),e[15]||(e[15]=t("div",{class:"text-sm text-gray-600"},"Min Stock Level",-1))]),t("div",null,[t("div",G,l(v(m.value.unit_cost)),1),e[16]||(e[16]=t("div",{class:"text-sm text-gray-600"},"Unit Cost",-1))])])])):x("",!0)]),t("div",Y,[e[22]||(e[22]=t("div",{class:"flex items-center mb-4"},[t("div",{class:"w-10 h-10 bg-gradient-to-r from-green-500 to-emerald-500 rounded-xl flex items-center justify-center mr-3"},[t("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})])]),t("h3",{class:"text-xl font-bold text-gray-800"},"Adjustment Details")],-1)),t("div",J,[t("div",K,[e[19]||(e[19]=t("label",{class:"block text-sm font-bold text-gray-700"},"Adjustment Type *",-1)),a(t("select",{"onUpdate:modelValue":e[2]||(e[2]=r=>o(s).adjustment_type=r),class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-green-500 focus:ring-4 focus:ring-green-100 transition-all duration-300 bg-white/80 backdrop-blur-sm",required:""},[...e[18]||(e[18]=[t("option",{value:"add"},"Add Stock (+)",-1),t("option",{value:"subtract"},"Subtract Stock (-)",-1)])],512),[[f,o(s).adjustment_type]]),n(u,{message:o(s).errors.adjustment_type,class:"mt-1"},null,8,["message"])]),t("div",O,[e[20]||(e[20]=t("label",{class:"block text-sm font-bold text-gray-700"},"Quantity *",-1)),a(t("input",{"onUpdate:modelValue":e[3]||(e[3]=r=>o(s).quantity=r),type:"number",min:"1",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-green-500 focus:ring-4 focus:ring-green-100 transition-all duration-300 bg-white/80 backdrop-blur-sm",placeholder:"Enter quantity",required:""},null,512),[[g,o(s).quantity]]),n(u,{message:o(s).errors.quantity,class:"mt-1"},null,8,["message"])]),t("div",W,[e[21]||(e[21]=t("label",{class:"block text-sm font-bold text-gray-700"},"Unit Cost (₹) *",-1)),a(t("input",{"onUpdate:modelValue":e[4]||(e[4]=r=>o(s).unit_cost=r),type:"number",step:"0.01",min:"0",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-green-500 focus:ring-4 focus:ring-green-100 transition-all duration-300 bg-white/80 backdrop-blur-sm",placeholder:"0.00",required:""},null,512),[[g,o(s).unit_cost]]),n(u,{message:o(s).errors.unit_cost,class:"mt-1"},null,8,["message"])])])]),t("div",X,[e[25]||(e[25]=t("div",{class:"flex items-center mb-4"},[t("div",{class:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl flex items-center justify-center mr-3"},[t("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])]),t("h3",{class:"text-xl font-bold text-gray-800"},"Additional Information")],-1)),t("div",Z,[t("div",tt,[e[23]||(e[23]=t("label",{class:"block text-sm font-bold text-gray-700"},"Adjusted By *",-1)),a(t("input",{"onUpdate:modelValue":e[5]||(e[5]=r=>o(s).adjusted_by=r),type:"text",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:ring-4 focus:ring-purple-100 transition-all duration-300 bg-white/80 backdrop-blur-sm",placeholder:"Your name",required:""},null,512),[[g,o(s).adjusted_by]]),n(u,{message:o(s).errors.adjusted_by,class:"mt-1"},null,8,["message"])]),t("div",et,[e[24]||(e[24]=t("label",{class:"block text-sm font-bold text-gray-700"},"Reason *",-1)),a(t("input",{"onUpdate:modelValue":e[6]||(e[6]=r=>o(s).reason=r),type:"text",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:ring-4 focus:ring-purple-100 transition-all duration-300 bg-white/80 backdrop-blur-sm",placeholder:"e.g., Damaged items, Found stock, etc.",required:""},null,512),[[g,o(s).reason]]),n(u,{message:o(s).errors.reason,class:"mt-1"},null,8,["message"])])])]),o(s).quantity&&o(s).unit_cost?(i(),d("div",st,[e[29]||(e[29]=t("div",{class:"flex items-center mb-4"},[t("div",{class:"w-10 h-10 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-xl flex items-center justify-center mr-3"},[t("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})])]),t("h3",{class:"text-xl font-bold text-gray-800"},"Adjustment Summary")],-1)),t("div",ot,[t("div",rt,[t("div",lt,l(o(s).adjustment_type==="add"?"+":"-")+l(o(s).quantity),1),e[26]||(e[26]=t("div",{class:"text-sm text-gray-600"},"Quantity",-1))]),t("div",nt,[t("div",dt,l(v(o(s).unit_cost)),1),e[27]||(e[27]=t("div",{class:"text-sm text-gray-600"},"Unit Cost",-1))]),t("div",it,[t("div",at,l(v(o(s).quantity*o(s).unit_cost)),1),e[28]||(e[28]=t("div",{class:"text-sm text-gray-600"},"Total Value",-1))])])])):x("",!0),t("div",ut,[n(o(w),{href:b.route("stock-movements.index")},{default:p(()=>[...e[30]||(e[30]=[t("button",{type:"button",class:"px-8 py-3 bg-gray-100 text-gray-700 rounded-xl font-bold hover:bg-gray-200 transition-all duration-300 shadow-lg"}," Cancel ",-1)])]),_:1},8,["href"]),t("button",{type:"submit",disabled:o(s).processing,class:"px-8 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl font-bold hover:from-purple-600 hover:to-pink-600 transition-all duration-300 shadow-lg hover:shadow-xl disabled:opacity-50"},[t("div",ct,[o(s).processing?(i(),d("svg",bt,[...e[31]||(e[31]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):x("",!0),h(" "+l(o(s).processing?"Processing...":"Process Adjustment"),1)])],8,mt)])],32)])])])]),_:1})],64))}};export{vt as default};
